
  <ul class="view-mode" ng-init="viewMode = 'stream'">
    <li ng-click="viewMode = 'stream'"
        ng-class="{'active': viewMode == 'stream'}">
        Stream View
    </li>
    <li ng-click="viewMode = 'model'"
        ng-class="{'active': viewMode == 'model'}">
        Model View
    </li>
  </ul>

  <ul class="view-stream list" ng-show="viewMode == 'stream'">
    <li class="field"
        ng-repeat="field in $ctrl.fields track by $index"
        ng-click="$ctrl.onFieldSelected({field:field})"
        ng-style="{ opacity : field.state ? '0.5' : '1' }">
        {{ field.name }}
    </li>
  </ul>

  <ul class="view-model list" ng-show="viewMode == 'model'">
    <li class="category"
        ng-repeat="(category, categoryGroup) in $ctrl.categories">
        <span class="category-label">{{ category }}</span>
        <ul>
          <li class="field"
              ng-repeat="field in categoryGroup"
              ng-click="$ctrl.onFieldSelected({field:field})"
              ng-style="{ opacity : field.state ? '0.5' : '1' }">
              {{ field.name }}
         </li>
       </ul>
   </li>
  </ul>
